(this.webpackJsonptablesrenderapp=this.webpackJsonptablesrenderapp||[]).push([[0],{142:function(e,t,a){e.exports=a(257)},161:function(e,t){},163:function(e,t){},174:function(e,t){},176:function(e,t){},201:function(e,t){},203:function(e,t){},204:function(e,t){},210:function(e,t){},212:function(e,t){},230:function(e,t){},232:function(e,t){},244:function(e,t){},247:function(e,t){},250:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"requestTableData",(function(){return de}));var r=a(0),c=a.n(r),l=a(47),o=a.n(l),i=a(52),u=a(17),p=a(13),d={data:[],fetched:!1,error:null,errorMsg:null};var m=Object(u.c)({tableData:function reducerTableData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_TABLE_DATA":return Object(p.a)(Object(p.a)({},e),{},{data:[],fetched:!1,error:null,errorMsg:null});case"SUCCESS_TABLE_DATA":var a=t.payload.data.data;return Object(p.a)(Object(p.a)({},e),{},{data:a,fetched:!0,error:null,errorMsg:null});case"ERROR_TABLE_DATA":return Object(p.a)(Object(p.a)({},e),{},{data:[],fetched:!0,error:t.payload.error,errorMsg:"Couldn't Fetch Data"});default:return e}}}),s=a(141),b=a(133),f=a(25),h=a.n(f),g=a(27),O=a(134),j=a.n(O),_=function api(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET";return j()(e,{method:t}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return Object(p.a)(Object(p.a)({},e),{ok:!0})})).catch((function(e){return Object(p.a)(Object(p.a)({},e),{ok:!1})}))},v=h.a.mark(tableData_fetchTableData),E=h.a.mark(listenForGetTableData);function tableData_fetchTableData(e){var t,a;return h.a.wrap((function fetchTableData$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t="".concat("https://clarisights-users.s3.eu-central-1.amazonaws.com","/frontend-assignment/1000+items+table+response.json"),n.next=4,Object(g.b)(_,t);case 4:if(!(a=n.sent).ok){n.next=10;break}return n.next=8,Object(g.c)({type:"SUCCESS_TABLE_DATA",payload:{data:a}});case 8:n.next=11;break;case 10:throw a;case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(g.c)({type:"ERROR_TABLE_DATA",payload:{error:n.t0,failedAction:e}});case 17:case"end":return n.stop()}}),v,null,[[0,13]])}function listenForGetTableData(){return h.a.wrap((function listenForGetTableData$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)("REQUEST_TABLE_DATA",tableData_fetchTableData);case 2:case"end":return e.stop()}}),E)}var D=h.a.mark(rootSaga);function rootSaga(){return h.a.wrap((function rootSaga$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([listenForGetTableData()]);case 2:case"end":return e.stop()}}),D)}var C={tableData:{}};var x=a(7),T=a(8),w=a(23),y=a(24);function _templateObject2(){var e=Object(x.a)(["\n  float: right;\n  margin-top: 4px;\n  cursor: pointer;\n"]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=Object(x.a)(["\n  background-color: #7986cb;\n  padding: 15px 25px;\n  border-bottom: 1px solid #d3d3d3;\n  box-shadow: #d9d9d9 2px 2px 4px 0px;\n  min-height: 25px;\n"]);return _templateObject=function _templateObject(){return e},e}var S=T.b.div(_templateObject()),k=Object(T.b)(w.a)(_templateObject2());var H=function NavHeader(){return c.a.createElement(S,{"data-testid":"navHeader"},c.a.createElement(k,{icon:y.b}))},A=a(79),L=a(140),G=a(136);function DataTableStyledComponents_templateObject(){var e=Object(x.a)(["\n  td, th {\n    border: 1px solid #d0d0d0;\n    border-collapse: collapse;\n    transition: max-width 1s ease;\n  }\n"]);return DataTableStyledComponents_templateObject=function _templateObject(){return e},e}var I=Object(T.a)(DataTableStyledComponents_templateObject()),F=a(53),R=a(41),q={minimumFractionDigits:0,maximumFractionDigits:2},B=function formatCurrencyForDisplay(e){return"&euro;&nbsp;".concat(Number(e).toLocaleString("en",q))},N=function formatDateForDisplay(e){if(e){var t=new Date(e),a=t.toDateString().substring(4,7);return"".concat(function formatNumberRank(e){return 1===e?"<span>1<sup>st</sup></span>":2===e?"<span>2<sup>nd</sup></span>":3===e?"<span>3<sup>rd</sup></span>":"<span>".concat(e,"<sup>th</sup></span>")}(t.getDate())).concat(a," ").concat(t.getFullYear())}return""};function _templateObject3(){var e=Object(x.a)(["\n  margin: 0px;\n  color: #7f7f7f;\n  font-weight: normal;\n"]);return _templateObject3=function _templateObject3(){return e},e}function ColumnHeading_templateObject2(){var e=Object(x.a)(["\n  padding: 10px;\n  text-align: right;\n  width: ",";\n  color: #4b4b4b;\n  font-weight: normal;\n  padding-bottom: ",";\n"]);return ColumnHeading_templateObject2=function _templateObject2(){return e},e}function ColumnHeading_templateObject(){var e=Object(x.a)(["\n  cursor: pointer;\n  transform: ",";\n"]);return ColumnHeading_templateObject=function _templateObject(){return e},e}var M=Object(T.b)((function(e){e.isOpen;var t=Object(F.a)(e,["isOpen"]);return c.a.createElement(w.a,t)}))(ColumnHeading_templateObject(),(function(e){return e.isOpen?null:"rotate(-90deg)"})),W=T.b.th(ColumnHeading_templateObject2(),(function(e){return e.isOpen?"auto":"150px"}),(function(e){return e.isGraphHeader?"10px":"25px"})),z=T.b.h4(_templateObject3()),U=c.a.memo((function(e){var t=e.text,a=e.columnKey,n=e.data,r=e.isGraphHeader,l=e.isOpen,o=r&&n.reduce((function(e,t){return e+t.trend.reduce((function(e,t){return e+t[a]}),0)}),0);return c.a.createElement(W,{isGraphHeader:r,isOpen:l},t," ",c.a.createElement(M,{key:l?"is-open":"not-open","data-tip":!0,"data-for":"columnCollapseTooltip",isOpen:l,icon:y.c,onClick:e.handleToggleColumnShow}),r&&c.a.createElement(z,{dangerouslySetInnerHTML:{__html:B(o)}}),l&&c.a.createElement(R.a,{id:"columnCollapseTooltip",place:"bottom",effect:"solid"},c.a.createElement("span",null,"Hide Column")),!l&&c.a.createElement(R.a,{id:"columnCollapseTooltip",place:"bottom",effect:"solid"},c.a.createElement("span",null,"Show Column")))}));U.defaultProps={columnKey:"",data:[]};var J=U,$=a(78),K=a.n($),P=a(74),Q=a.n(P),V=a(137),Y=a.n(V),X=(a(250),{chart:{type:"area",height:"".concat(43.75,"%"),margin:0},credits:{enabled:!1},title:!1,legend:{enabled:!1},xAxis:{labels:{enabled:!1},title:!1,tickLength:0,lineColor:"transparent"},yAxis:{labels:{enabled:!1},title:!1,gridLineWidth:0},plotOptions:{series:{fillColor:"#eaebfe",color:"#c8c9ff",marker:{radius:2.5}}},tooltip:{formatter:function formatter(){return'\n              <span class="graphTooltipValue">Value: '.concat(this.y,'</span>\n              <br/>\n              <span class="graphTooltipDate">Date: ').concat(this.key," </span> \n               ")}}}),Z=c.a.memo((function(e){var t=Object(p.a)(Object(p.a)({},X),{},{series:[{data:e.data}]});return c.a.createElement(Y.a,{"data-testid":"highChartGraph",highcharts:Q.a,options:t})}));function DataCellGraph_templateObject2(){var e=Object(x.a)(["\n  position: relative;\n  padding: 10px;\n  width: auto;\n  padding-top: 30px;\n"]);return DataCellGraph_templateObject2=function _templateObject2(){return e},e}function DataCellGraph_templateObject(){var e=Object(x.a)(["\n  position: absolute;\n  z-index: 1;\n  font-weight: normal;\n  right: 20px;\n  top: -5px;\n  text-align: right;\n  color: #3f3f3f;\n"]);return DataCellGraph_templateObject=function _templateObject(){return e},e}var ee=T.b.h4(DataCellGraph_templateObject()),te=T.b.div(DataCellGraph_templateObject2()),ae=c.a.memo((function(e){var t=e.columnObject,a=e.rowData,n=e.isOpen,r=e.style,l=a.trend.map((function(e){return[e.day,e[t.key]]})),o=a.trend.reduce((function(e,a){return e+a[t.key]}),0);return console.log("Rendering DataCellGraph"),c.a.createElement(te,{className:"dataCellGraph",style:r,"data-testid":"dataCellGraph"},n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ee,{dangerouslySetInnerHTML:{__html:B(o)}}),c.a.createElement(Z,{data:l,total:o})))}),(function(e,t){return K()(JSON.stringify(e)).toString()===K()(JSON.stringify(t)).toString()}));function DataCellCampaignId_templateObject3(){var e=Object(x.a)(["\n  width: calc(100% - 25px);\n  display: inline-block;\n"]);return DataCellCampaignId_templateObject3=function _templateObject3(){return e},e}function DataCellCampaignId_templateObject2(){var e=Object(x.a)(["\n  padding-right: 10px;\n  width: 20px;\n"]);return DataCellCampaignId_templateObject2=function _templateObject2(){return e},e}function DataCellCampaignId_templateObject(){var e=Object(x.a)(["\n  position: relative;\n  padding: 20px;\n"]);return DataCellCampaignId_templateObject=function _templateObject(){return e},e}var ne=T.b.div(DataCellCampaignId_templateObject()),re=Object(T.b)(w.a)(DataCellCampaignId_templateObject2()),ce=T.b.span(DataCellCampaignId_templateObject3()),le=c.a.memo((function(e){var t=e.text,a=e.isOpen;return c.a.createElement(ne,{className:"dataCellCampaignId",style:e.style,"data-testid":"dataCellCampaignId"},a&&c.a.createElement(c.a.Fragment,null,c.a.createElement(re,{size:"lg",color:"#3F51B5",icon:y.a}),c.a.createElement(ce,null,t)))}));function DataTable_templateObject2(){var e=Object(x.a)(["\n  background: #f2f2f2;\n  padding: 15px;\n"]);return DataTable_templateObject2=function _templateObject2(){return e},e}function DataTable_templateObject(){var e=Object(x.a)(["\n  width: 100%;\n  table-layout: fixed;\n  height: 90vh;\n  overflow-y: scroll;\n  border-collapse: collapse;\n"]);return DataTable_templateObject=function _templateObject(){return e},e}var oe=[{heading:"App and Installs",key:"aj_app_and_installs"},{heading:"CoH Real Acquisition",key:"aj_coh_0w_and_real_acquisition"}],ie=T.b.table(DataTable_templateObject()),ue=T.b.tr(DataTable_templateObject2()),pe=c.a.memo((function(e){var t=e.data,a=e.show,n=Object(r.useState)(!0),l=Object(A.a)(n,2),o=l[0],i=l[1],u=Object(r.useState)(new Array(oe.length).fill(!0)),p=Object(A.a)(u,2),d=p[0],m=p[1],s=function Cell(e){var a=e.columnIndex,n=e.rowIndex,r=e.style,l=t[n],i=o;if(0===a)return c.a.createElement(le,{style:r,text:l.groups.Campaign.metadata.name,isOpen:i});var u=oe[a-1];return c.a.createElement(ae,{style:r,isOpen:d[a-1],columnObject:u,rowData:l})};return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"dataTableWrap"},c.a.createElement(ie,{"data-testid":"datatable"},c.a.createElement("thead",null,c.a.createElement(ue,null,c.a.createElement(J,{handleToggleColumnShow:function handleToggleCampaignIdColumnShow(){i((function(e){return!e})),window.dispatchEvent(new Event("resize"))},text:"Campaign Id",isGraphHeader:!1,isOpen:o}),oe.map((function(e,a){return c.a.createElement(J,{key:a,isGraphHeader:!0,text:e.heading,columnKey:e.key,data:t,handleToggleColumnShow:function handleToggleColumnShow(){return function handleToggleGraphColumnShow(e){m((function(t){return t.slice(0,e).concat(!t[e]).concat(t.slice(e+1))}))}(a)},isOpen:d[a]})})))),c.a.createElement("tbody",null,c.a.createElement(G.a,null,(function(e){var a=e.height,n=e.width;return c.a.createElement(L.a,{className:"Grid",height:a,columnCount:3,rowCount:t.length,width:n,rowHeight:function rowHeight(){return 250},columnWidth:function columnWidth(){return 440}},s)})))))),c.a.createElement(I,null))})),de=function requestTableData(){return{type:"REQUEST_TABLE_DATA"}},me=a(138),se=a.n(me);function Loader_templateObject(){var e=Object(x.a)(["\n  margin: 100px 0;\n"]);return Loader_templateObject=function _templateObject(){return e},e}var be=Object(T.b)((function(e){return c.a.createElement("div",e)}))(Loader_templateObject());var fe=function Loader(){return c.a.createElement(be,{"data-testid":"loader",align:"center"},c.a.createElement(se.a,{size:100,color:"#123abc"}))},he=a(2),ge=a.n(he),Oe=c.a.memo((function(e){return c.a.createElement("h4",{"data-testid":"errorDisplay",align:"center",style:{color:"#F44336"}},"Error: ",e.message)}));Oe.propTypes={message:ge.a.string.isRequired};var je=Oe;function _templateObject4(){var e=Object(x.a)(["\n  float: right;\n  cursor: pointer;\n  margin-top: 20px;\n  animation: ",";\n"]);return _templateObject4=function _templateObject4(){return e},e}function Head_templateObject3(){var e=Object(x.a)(["\n  font-weight: normal;\n  margin-top: 0;\n  color: #767676;\n  font-weight: bold;\n"]);return Head_templateObject3=function _templateObject3(){return e},e}function Head_templateObject2(){var e=Object(x.a)(["\n  display: inline-block;\n  margin-bottom: 5px;\n"]);return Head_templateObject2=function _templateObject2(){return e},e}function Head_templateObject(){var e=Object(x.a)(["\n  border-bottom: solid 1px #eee;\n"]);return Head_templateObject=function _templateObject(){return e},e}var _e=T.b.div(Head_templateObject()),ve=T.b.h3(Head_templateObject2()),Ee=T.b.h4(Head_templateObject3()),De=Object(T.b)((function(e){e.isLoading;var t=Object(F.a)(e,["isLoading"]);return c.a.createElement(w.a,t)}))(_templateObject4(),(function(e){return e.isLoading?"spin 1s linear infinite":"null"}));var Ce=function Head(e){var t=e.isLoading,a=e.fetchTableData,n=e.subtitle,r=e.title;return c.a.createElement(_e,{"data-testid":"cardHead"},c.a.createElement(De,{isLoading:t,"data-tip":"Reload Data",icon:y.d,onClick:a}),c.a.createElement(ve,null,r),c.a.createElement(Ee,{dangerouslySetInnerHTML:{__html:n}}),c.a.createElement(R.a,{place:"bottom",effect:"solid"}))};function Card_templateObject2(){var e=Object(x.a)(["\n  padding: 20px 0px;\n"]);return Card_templateObject2=function _templateObject2(){return e},e}function Card_templateObject(){var e=Object(x.a)(["\n  background-color: #fff;\n  padding: 0 15px 25px;\n  box-shadow: #eee 2px 2px;\n  margin: 30px auto;\n  width: 80%;\n  // height: calc(100vh - 140px);\n"]);return Card_templateObject=function _templateObject(){return e},e}var xe=T.b.div(Card_templateObject()),Te=T.b.div(Card_templateObject2()),we=c.a.memo((function(e){return c.a.createElement(xe,{"data-testid":"card"},c.a.createElement(Ce,{fetchTableData:e.fetchTableData,title:e.title,isLoading:e.isLoading,subtitle:e.subtitle}),c.a.createElement(Te,null,e.children))}));we.propTypes={fetchTableData:ge.a.func.isRequired,title:ge.a.string.isRequired,subtitle:ge.a.string.isRequired,isLoading:ge.a.bool.isRequired,children:ge.a.object.isRequired};var ye=we,Se=Object(i.b)((function mapStateToProps(e){return{tableData:e.tableData}}),(function mapDispatchToProps(e){return{requestTableDataAction:Object(u.b)(n,e)}}))((function Home(e){var t=e.tableData,a=e.requestTableDataAction,n=function extractStartingDate(e){return e.fetched&&0!==e.data.length?e.data[0].trend[0].day:null}(t),l=function extractEndingDate(e){if(e.fetched&&0!==e.data.length){var t=e.data[0].trend;return t[t.length-1].day}return null}(t),o="Showing Data From ".concat(N(n)," to ").concat(N(l)),i=c.a.useCallback((function(){a.requestTableData()}),[a]);return Object(r.useEffect)((function(){i()}),[]),c.a.createElement("div",{"data-testid":"home"},c.a.createElement(H,null),c.a.createElement(ye,{fetchTableData:i,title:"Your Facebook Campaigns' Data",subtitle:t.fetched&&0!==t.data.length&&o||"",isLoading:!t.fetched},c.a.createElement(c.a.Fragment,null,c.a.createElement(pe,{data:t.data||[],show:t.fetched&&0!==t.data.length||!1}),t.fetched&&!t.data&&c.a.createElement(je,{message:t.errorMsg}),!t.fetched&&c.a.createElement(fe,null))))})),ke=(a(255),function App(){return c.a.createElement("div",{className:"App","data-testid":"app"},c.a.createElement(Se,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(256);var He=function configureStore(){var e=Object(s.a)(),t=Object(u.e)(m,C,Object(u.d)(Object(u.a)(e,b.logger)));return e.run(rootSaga),t}();o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{store:He},c.a.createElement(ke,null))),document.getElementById("root")),function unregister(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}()}},[[142,1,2]]]);
//# sourceMappingURL=main.47e29ef1.chunk.js.map